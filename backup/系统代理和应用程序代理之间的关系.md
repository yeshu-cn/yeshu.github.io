## 什么是系统代理
系统代理是在操作系统级别设置的代理，它会影响到设备上所有的网络流量。当你在操作系统（例如，Windows、macOS、Linux或Android）中设置了代理，所有的网络请求（包括HTTP、HTTPS、FTP等）都会被重定向到这个代理服务器。

系统代理的工作原理是通过修改系统的路由表来实现的。路由表是操作系统用来决定网络数据包应该如何被路由的一种表格。当你设置了系统代理，操作系统会修改路由表，使得所有的网络请求都会被发送到代理服务器，然后由代理服务器转发到目标服务器。

系统代理的设置通常在操作系统的网络设置中进行。例如，在Windows中，你可以在“Internet选项”中设置代理；在macOS中，你可以在“网络”设置中设置代理；在Android中，你可以在“无线和网络”设置中设置代理。

系统代理的一个主要用途是在企业或学校网络中控制和监视网络流量。例如，企业可能会设置系统代理来阻止员工访问某些网站，或者监视网络流量以防止数据泄露。另一个用途是在需要绕过网络审查或访问地理限制内容时使用，例如使用VPN或者Shadowsocks等工具。

需要注意的是，虽然系统代理会影响到所有的网络流量，但是某些应用程序可能会忽略系统代理设置，并直接连接到目标服务器。这是因为应用程序可以选择是否遵循系统代理设置，或者使用自己的代理设置。

## 应用程序代理的优先级高于系统代理
1. 当你在Android设备上设置了HTTP代理，这个设置是全局的，会影响到设备上所有的HTTP流量。也就是说，所有的应用程序发送的HTTP请求都会被重定向到这个代理服务器。这是通过修改系统的路由表来实现的。

   但是，如果一个应用程序自己设置了代理，那么这个设置只会影响到这个应用程序的HTTP流量。这个应用程序的HTTP请求会被重定向到它自己设置的代理服务器，而不是设备上设置的代理服务器。这是因为应用程序的代理设置优先级高于设备的代理设置。

2. 如果一个应用程序直接连接到一个IP地址，而不是使用HTTP协议，那么这个连接可能会绕过HTTP代理。这是因为代理服务器通常只处理HTTP协议的流量，而不处理其他协议的流量。当应用程序直接连接到IP地址时，它可能使用的是TCP或UDP协议，而不是HTTP协议，所以这个连接的流量不会被代理服务器处理。

   同样，如果一个应用程序使用了自己的代理设置，那么这个应用程序的流量可能不会通过系统的HTTP代理转发。这是因为应用程序的代理设置优先级高于系统的代理设置。

   所以，如果你想让所有的流量都通过代理服务器，你可能需要在应用程序级别设置代理，或者使用VPN服务来拦截所有的流量。